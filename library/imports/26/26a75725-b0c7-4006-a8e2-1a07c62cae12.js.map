{"version":3,"sources":["assets/Scripts/Background.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAE5C;IAA8C,oCAAY;IAA1D;QAAA,qEAkCC;QAhCG,iBAAW,GAAY,IAAI,CAAC;QAE5B,iBAAW,GAAY,IAAI,CAAC;QAE5B,iBAAW,GAAY,IAAI,CAAC;QAE5B,eAAS,GAAW,EAAE,CAAC;;IA0B3B,CAAC;IAxBG,gCAAK,GAAL;QACI,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACjE,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;QAExC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACjE,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;IAC5C,CAAC;IACD,iCAAM,GAAN,UAAO,EAAU;QACb,IAAM,cAAc,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAC1F,IAAM,cAAc,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAE1F,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,cAAc,GAAG,EAAE,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,cAAc,GAAG,EAAE,CAAC;QAC1C,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;YAC/C,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;SACpE;IACL,CAAC;IA/BD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yDACU;IAE5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yDACU;IAE5B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yDACU;IAE5B;QADC,QAAQ;uDACc;IARN,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CAkCpC;IAAD,uBAAC;CAlCD,AAkCC,CAlC6C,EAAE,CAAC,SAAS,GAkCzD;kBAlCoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["const { ccclass, property } = cc._decorator;\n@ccclass\nexport default class BackgroundLooper extends cc.Component {\n    @property(cc.Node)\n    background1: cc.Node = null;\n    @property(cc.Node)\n    background2: cc.Node = null;\n    @property(cc.Node)\n    background3: cc.Node = null;\n    @property\n    moveSpeed: number = 50;\n\n    start() {\n        this.background2.x = this.background1.x + this.background1.width;\n        this.background2.y = this.background1.y;\n\n        this.background3.x = this.background2.x + this.background2.width;\n        this.background3.y = this.background1.y;\n    }\n    update(dt: number) {\n        const relativeSpeed1 = this.moveSpeed * (this.background1.width / this.background2.width);\n        const relativeSpeed2 = this.moveSpeed * (this.background2.width / this.background3.width);\n\n        this.background1.x -= relativeSpeed1 * dt;\n        this.background2.x -= this.moveSpeed * dt;\n        this.background3.x -= relativeSpeed2 * dt;\n        if (this.background1.x <= -this.background1.width) {\n            this.background1.x = this.background3.x + this.background3.width;\n        }\n        if (this.background2.x <= -this.background2.width) {\n            this.background2.x = this.background1.x + this.background1.width;\n        }\n        if (this.background3.x <= -this.background3.width) {\n            this.background3.x = this.background2.x + this.background2.width;\n        }\n    }\n}\n\n\n\n"]}